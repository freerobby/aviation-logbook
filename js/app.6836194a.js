(function(t){function e(e){for(var r,s,_=e[0],o=e[1],l=e[2],d=0,m=[];d<_.length;d++)s=_[d],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&m.push(n[s][0]),n[s]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r]);u&&u(e);while(m.length)m.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],r=!0,_=1;_<a.length;_++){var o=a[_];0!==n[o]&&(r=!1)}r&&(i.splice(e--,1),t=s(s.s=a[0]))}return t}var r={},n={app:0},i=[];function s(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=r,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(a,r,function(e){return t[e]}.bind(null,r));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var _=window["webpackJsonp"]=window["webpackJsonp"]||[],o=_.push.bind(_);_.push=e,_=_.slice();for(var l=0;l<_.length;l++)e(_[l]);var u=o;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},"36ca":function(t,e,a){},"41f5":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"header"}},[a("h1",[t._v("Aviation Logbook Printer")]),a("div",{attrs:{id:"right-pane"}},[0===t.flights.length?a("div",{staticClass:"file_container",on:{drop:function(e){return e.preventDefault(),t.importFile(e)},dragover:function(t){t.preventDefault()}}},[a("p",[t._v("Drag your logbook export here.")])]):t._e()]),a("p"),t._l(t.flight_pages,(function(e,r){return a("flight-log-page",{key:e.id,attrs:{page_number:r+1,flights:e,page_totals:t.flights_page_total(r),amount_forward:t.flights_page_amount_forward(r),total_to_date:t.flights_page_amount_forward(r+1)}})}))],2)])},i=[],s=(a("fb6a"),a("b680"),a("d3b7"),a("25f0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v("Page "+t._s(t.page_number))]),a("table",[a("tr",[a("th",[t._v("Year"),a("br"),t._v(t._s(new Date(t.flights[0].date).getFullYear())),a("br"),t._v("Date")]),t._m(0),t._m(1),a("th",[t._v("From")]),a("th"),a("th",[t._v("To")]),t._m(2),t._m(3),t._m(4),t._m(5),t._m(6),a("th",[t._v("Day")]),a("th",[t._v("Night")]),t._m(7),t._m(8),t._m(9),t._m(10),t._m(11),t._m(12),a("th",[t._v("Comments")])]),t._l(t.flights,(function(t){return a("flight",{key:t.id,attrs:{actual_instrument:t.actual_instrument,aircraft_id:t.aircraft_id,aircraft_model:t.aircraft_model,asel:t.asel,amel:t.amel,comments:t.comments,cross_country:t.cross_country,day_time:t.day_time,day_landings:t.day_landings,date:t.date,dual:t.dual,from:t.from,ground_trainer:t.ground_trainer,night_time:t.night_time,night_landings:t.night_landings,number_instrument_approaches:t.number_instrument_approaches,pic:t.pic,route:t.route,simulated_instrument:t.simulated_instrument,to:t.to,total_time:t.total_time}})})),a("flight-summation-row",{key:t.page_totals.id,attrs:{summary:"Page Total",actual_instrument:t.page_totals.actual_instrument.toFixed(1),asel:t.page_totals.asel.toFixed(1),amel:t.page_totals.amel.toFixed(1),cross_country:t.page_totals.cross_country.toFixed(1),day_time:t.page_totals.day_time.toFixed(1),day_landings:t.page_totals.day_landings,dual:t.page_totals.dual.toFixed(1),ground_trainer:t.page_totals.ground_trainer.toFixed(1),night_time:t.page_totals.night_time.toFixed(1),night_landings:t.page_totals.night_landings,number_instrument_approaches:t.page_totals.number_instrument_approaches,pic:t.page_totals.pic.toFixed(1),simulated_instrument:t.page_totals.simulated_instrument.toFixed(1),total_time:t.page_totals.total_time.toFixed(1)}}),a("flight-summation-row",{key:t.amount_forward.id,attrs:{summary:"Amount Forward",actual_instrument:t.amount_forward.actual_instrument.toFixed(1),asel:t.amount_forward.asel.toFixed(1),amel:t.amount_forward.amel.toFixed(1),cross_country:t.amount_forward.cross_country.toFixed(1),day_time:t.amount_forward.day_time.toFixed(1),day_landings:t.amount_forward.day_landings,dual:t.amount_forward.dual.toFixed(1),ground_trainer:t.amount_forward.ground_trainer.toFixed(1),night_time:t.amount_forward.night_time.toFixed(1),night_landings:t.amount_forward.night_landings,number_instrument_approaches:t.amount_forward.number_instrument_approaches,pic:t.amount_forward.pic.toFixed(1),simulated_instrument:t.amount_forward.simulated_instrument.toFixed(1),total_time:t.amount_forward.total_time.toFixed(1)}}),a("flight-summation-row",{key:t.total_to_date.id,attrs:{summary:"Total to Date",actual_instrument:t.total_to_date.actual_instrument.toFixed(1),asel:t.total_to_date.asel.toFixed(1),amel:t.total_to_date.amel.toFixed(1),cross_country:t.total_to_date.cross_country.toFixed(1),day_time:t.total_to_date.day_time.toFixed(1),day_landings:t.total_to_date.day_landings,dual:t.total_to_date.dual.toFixed(1),ground_trainer:t.total_to_date.ground_trainer.toFixed(1),night_time:t.total_to_date.night_time.toFixed(1),night_landings:t.total_to_date.night_landings,number_instrument_approaches:t.total_to_date.number_instrument_approaches,pic:t.total_to_date.pic.toFixed(1),simulated_instrument:t.total_to_date.simulated_instrument.toFixed(1),total_time:t.total_to_date.total_time.toFixed(1)}})],2)])}),_=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[t._v("Aircraft"),a("br"),t._v("Make & Model")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[t._v("Aircraft"),a("br"),t._v("Ident")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[t._v("Airplane"),a("br"),t._v("SEL")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[t._v("Airplane"),a("br"),t._v("MEL")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[t._v("Ground"),a("br"),t._v("Trainer")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[t._v("Dual"),a("br"),t._v("Received")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[t._v("Pilot-in-"),a("br"),t._v("Command")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[t._v("Cross-"),a("br"),t._v("Country")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[t._v("Actual"),a("br"),t._v("Instr.")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[t._v("Simulated"),a("br"),t._v("Instr.")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[t._v("No."),a("br"),t._v("Instr."),a("br"),t._v("Appr.")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[t._v("No."),a("br"),t._v("Ldg."),a("br"),t._v("Day/"),a("br"),t._v("Night")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[t._v("Total"),a("br"),t._v("Duration"),a("br"),t._v("of Flight")])}],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",[t._v(t._s(new Date(t.date).getMonth()+1+"/"+(new Date(t.date).getDate()+1)))]),a("td",[t._v(t._s(t.aircraft_model))]),a("td",[t._v(t._s(t.aircraft_id))]),a("td",[t._v(t._s(t.from))]),a("td",[t._v(t._s(t.route))]),a("td",[t._v(t._s(t.to))]),a("td",{staticClass:"gray"},[t._v(t._s(t.asel))]),a("td",[t._v(t._s(t.amel))]),a("td",[t._v(t._s(t.ground_trainer))]),a("td",{staticClass:"gray"},[t._v(t._s(t.dual))]),a("td",[t._v(t._s(t.pic))]),a("td",{staticClass:"gray"},[t._v(t._s(t.day_time))]),a("td",[t._v(t._s(t.night_time))]),a("td",{staticClass:"gray"},[t._v(t._s(t.cross_country))]),a("td",[t._v(t._s(t.actual_instrument))]),a("td",{staticClass:"gray"},[t._v(t._s(t.simulated_instrument))]),a("td",[t._v(t._s(t.number_instrument_approaches))]),a("td",[t._v(t._s(t.day_landings)+"/"+t._s(t.night_landings))]),a("td",[t._v(t._s(t.total_time))]),a("td",{staticClass:"left"},[t._v(t._s(t.comments))])])},l=[],u={name:"Flight",props:["actual_instrument","aircraft_id","aircraft_model","asel","amel","comments","cross_country","day_time","day_landings","date","dual","from","ground_trainer","night_time","night_landings","number_instrument_approaches","pic","route","simulated_instrument","to","total_time"]},d=u,m=(a("9830"),a("2877")),c=Object(m["a"])(d,o,l,!1,null,"249ad86c",null),g=c.exports,h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{attrs:{colspan:"6",align:"right"}},[t._v(t._s(t.summary))]),a("td",{staticClass:"bordered gray"},[t._v(t._s(t.asel))]),a("td",{staticClass:"bordered"},[t._v(t._s(t.amel))]),a("td",{staticClass:"bordered"},[t._v(t._s(t.ground_trainer))]),a("td",{staticClass:"bordered gray"},[t._v(t._s(t.dual))]),a("td",{staticClass:"bordered"},[t._v(t._s(t.pic))]),a("td",{staticClass:"bordered gray"},[t._v(t._s(t.day_time))]),a("td",{staticClass:"bordered"},[t._v(t._s(t.night_time))]),a("td",{staticClass:"bordered gray"},[t._v(t._s(t.cross_country))]),a("td",{staticClass:"bordered"},[t._v(t._s(t.actual_instrument))]),a("td",{staticClass:"bordered gray"},[t._v(t._s(t.simulated_instrument))]),a("td",{staticClass:"bordered"},[t._v(t._s(t.number_instrument_approaches))]),a("td",{staticClass:"bordered"},[t._v(t._s(t.day_landings)+"/"+t._s(t.night_landings))]),a("td",{staticClass:"bordered"},[t._v(t._s(t.total_time))]),a("td",[t._v(t._s(t.comments))])])},p=[],f={name:"FlightSummationRow",props:["actual_instrument","asel","amel","comments","cross_country","day_time","day_landings","dual","ground_trainer","night_time","night_landings","number_instrument_approaches","pic","simulated_instrument","summary","total_time"]},v=f,y=(a("c979"),Object(m["a"])(v,h,p,!1,null,"00386373",null)),b=y.exports,F={name:"FlightLogPage",components:{Flight:g,FlightSummationRow:b},props:["amount_forward","flights","page_number","page_totals","total_to_date"]},w=F,x=(a("aee3"),Object(m["a"])(w,s,_,!1,null,"03394c5b",null)),C=x.exports,B=a("369b"),D=a.n(B),V={name:"App",components:{FlightLogPage:C},data:function(){return{flights:[],flight_pages:[],user_raw_data:""}},methods:{formatted_date:function(){var t=new Date;return t.toDateString()},importFile:function(t){var e=this,a=t.dataTransfer.files[0],r=new FileReader;r.readAsText(a,"UTF-8"),r.onload=function(t){var a=t.target.result;e.loadCSVFromRaw(a)}},loadCSVFromRaw:function(t){this.user_raw_data=t},getValueByHeader:function(t,e,a){for(var r=0;r<t.length;r++)if(t[r]===a)return e[r];return-1},getAircraftModelByID:function(t,e){for(var a=0;a<t.length;a++)if(t[a][0]===e)return this.getValueByHeader(t[0],t[a],"Model");return-1},get_number_instrument_approaches:function(t,e){var a=0;while(a<10&&""!==this.getValueByHeader(t,e,"Approach"+(a+1).toString()))a++;return a},handle_update_csv:function(t){for(var e=t.data,a=-1,r=-1,n=-1,i=-1,s=0;s<e.length;s++)"Aircraft Table"===e[s][0]?a=s+1:a>=0&&-1===r&&""===e[s][0]?r=s:"Flights Table"===e[s][0]?n=s+1:n>=0&&-1===i&&""===e[s][0]&&(i=s);for(var _=e.slice(a,r),o=e.slice(n,i),l=0;l<o.length;l++)if(0!==l){var u=this.getValueByHeader(o[0],o[l],"AircraftID"),d=this.getValueByHeader(o[0],o[l],"Night"),m=this.getValueByHeader(o[0],o[l],"TotalTime"),c=(m-d).toFixed(1);this.flights.push({actual_instrument:this.getValueByHeader(o[0],o[l],"ActualInstrument"),aircraft_id:u,aircraft_model:this.getAircraftModelByID(_,u),amel:0,asel:this.getValueByHeader(o[0],o[l],"TotalTime"),comments:this.getValueByHeader(o[0],o[l],"PilotComments").replaceAll("  ",", "),cross_country:this.getValueByHeader(o[0],o[l],"CrossCountry"),date:Date.parse(this.getValueByHeader(o[0],o[l],"Date")),day_landings:this.getValueByHeader(o[0],o[l],"DayLandingsFullStop"),day_time:c,dual:this.getValueByHeader(o[0],o[l],"DualReceived"),from:this.getValueByHeader(o[0],o[l],"From"),ground_trainer:this.getValueByHeader(o[0],o[l],"GroundTraining"),night_landings:this.getValueByHeader(o[0],o[l],"NightLandingsFullStop"),night_time:d,number_instrument_approaches:this.get_number_instrument_approaches(o[0],o[l]),pic:this.getValueByHeader(o[0],o[l],"PIC"),route:this.getValueByHeader(o[0],o[l],"Route"),simulated_instrument:this.getValueByHeader(o[0],o[l],"SimulatedInstrument"),to:this.getValueByHeader(o[0],o[l],"To"),total_time:m})}this.flights.reverse();for(var g=0;g<this.flights.length;g++)g%7===0?this.flight_pages.push([this.flights[g]]):this.flight_pages[this.flight_pages.length-1].push(this.flights[g])},add_totals:function(t,e){return{actual_instrument:t.actual_instrument+e.actual_instrument,asel:t.asel+e.asel,amel:t.amel+e.amel,cross_country:t.cross_country+e.cross_country,day_time:t.day_time+e.day_time,day_landings:t.day_landings+e.day_landings,dual:t.dual+e.dual,ground_trainer:t.ground_trainer+e.ground_trainer,night_time:t.night_time+e.night_time,night_landings:t.night_landings+e.night_landings,number_instrument_approaches:t.number_instrument_approaches+e.number_instrument_approaches,pic:t.pic+e.pic,simulated_instrument:t.simulated_instrument+e.simulated_instrument,total_time:t.total_time+e.total_time}},flights_page_amount_forward:function(t){return 0===t?{actual_instrument:0,asel:0,amel:0,cross_country:0,day_time:0,day_landings:0,dual:0,ground_trainer:0,night_time:0,night_landings:0,number_instrument_approaches:0,pic:0,simulated_instrument:0,total_time:0}:1===t?this.flights_page_total(0):this.add_totals(this.flights_page_total(t-1),this.flights_page_amount_forward(t-1))},flights_page_total:function(t){for(var e={actual_instrument:0,asel:0,amel:0,cross_country:0,day_time:0,day_landings:0,dual:0,ground_trainer:0,night_time:0,night_landings:0,number_instrument_approaches:0,pic:0,simulated_instrument:0,total_time:0},a=0;a<this.flight_pages[t].length;a++)e.actual_instrument+=parseFloat(this.flight_pages[t][a].actual_instrument)||0,e.asel+=parseFloat(this.flight_pages[t][a].asel)||0,e.amel+=parseFloat(this.flight_pages[t][a].amel)||0,e.cross_country+=parseFloat(this.flight_pages[t][a].cross_country)||0,e.day_time+=parseFloat(this.flight_pages[t][a].day_time)||0,e.day_landings+=parseInt(this.flight_pages[t][a].day_landings)||0,e.dual+=parseFloat(this.flight_pages[t][a].dual)||0,e.ground_trainer+=parseFloat(this.flight_pages[t][a].ground_trainer)||0,e.night_time+=parseFloat(this.flight_pages[t][a].night_time)||0,e.night_landings+=parseInt(this.flight_pages[t][a].night_landings)||0,e.number_instrument_approaches+=parseInt(this.flight_pages[t][a].number_instrument_approaches)||0,e.pic+=parseFloat(this.flight_pages[t][a].pic)||0,e.simulated_instrument+=parseFloat(this.flight_pages[t][a].simulated_instrument)||0,e.total_time+=parseFloat(this.flight_pages[t][a].total_time)||0;return e},parse:function(t){this.parse_csv(t)},parse_csv:function(t){var e=this;D.a.parse(t,{complete:function(t){e.handle_update_csv(t)}})}},watch:{user_raw_data:function(t){this.parse(t)}}},H=V,E=(a("034f"),Object(m["a"])(H,n,i,!1,null,null,null)),T=E.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(t){return t(T)}}).$mount("#app")},"85ec":function(t,e,a){},9830:function(t,e,a){"use strict";a("36ca")},aee3:function(t,e,a){"use strict";a("b14b")},b14b:function(t,e,a){},c979:function(t,e,a){"use strict";a("41f5")}});
//# sourceMappingURL=app.6836194a.js.map